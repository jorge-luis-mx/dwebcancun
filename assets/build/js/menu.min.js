window.addEventListener("DOMContentLoaded",e=>{let t=window.location,s=t.pathname.split("/")[1],o=t.protocol+"//"+t.host+"/"+s;const n=document.getElementById("btn-menu");null!=n&&n.addEventListener("click",e=>{i.showMenu(e)});const r=document.getElementById("submitContact");null!=r&&r.addEventListener("click",e=>{i.contactSubmit(o,e)});const a=document.querySelectorAll(".iam-input");null!=a&&a.forEach(e=>{e.addEventListener("keypress",e=>{i.removeError(e)})});const c=document.querySelectorAll(".justnumeric");null!=c&&c.forEach(e=>{e.addEventListener("keypress",e=>{i.justNumeric(e)})});const i={showMenu:function(e){var t,s=document.querySelector(".btn-menu span");"fas fa-bars"==s.getAttribute("class")?(s.classList.remove("fas","fa-bars"),s.classList.add("fas","fa-times"),(t=document.querySelector(".menu-link")).classList.add("mostrarMenuMovil"),t.classList.remove("quitarMenuMovil")):(s.classList.remove("fas","fa-times"),s.classList.add("fas","fa-bars"),(t=document.querySelector(".menu-link")).classList.add("quitarMenuMovil"),t.classList.remove("mostrarMenuMovil"))},contactSubmit:async function(e,t){t.preventDefault();const s=document.getElementById("contactoForm"),o=new FormData(s),n={nombre:o.get("nombre"),correo:o.get("correo"),telefono:o.get("telefono"),asunto:o.get("asunto"),pais:o.get("pais"),estado:o.get("estado"),ciudad:o.get("ciudad"),mensaje:o.get("mensaje")};if(null==n.nombre||0==n.nombre||/^\s+$/.test(n.nombre))return this.errorActive("nombre"),!1;if(null==n.telefono||0==n.telefono||/^\s+$/.test(n.telefono))return this.errorActive("telefono"),!1;if(!/\w+([-+.']\w+)*@\w+([-.]\w+)/.test(n.correo))return this.errorActive("correo"),!1;if(null==n.pais||0==n.pais||/^\s+$/.test(n.pais))return this.errorActive("pais"),!1;if(null==n.estado||0==n.estado||/^\s+$/.test(n.estado))return this.errorActive("estado"),!1;if(null==n.ciudad||0==n.ciudad||/^\s+$/.test(n.ciudad))return this.errorActive("ciudad"),!1;if(null==n.asunto||0==n.asunto||/^\s+$/.test(n.asunto))return this.errorActive("asunto"),!1;if(null==n.mensaje||0==n.mensaje||/^\s+$/.test(n.mensaje))return console.log(n.mensaje),this.errorActive("mensaje"),!1;try{const e=await fetch("controllers/EmailController.php",{method:"post",body:o});if(200==(await e.json()).status){Swal.fire("Mensaje enviado correctamente!","click en button!","success");const e=document.querySelectorAll(".iam-input");null!=e&&e.forEach(e=>{e.value=""})}}catch(t){console.log("fetch failed",t)}},errorActive:function(e){const t=document.getElementById(`${e}`),s=t.nextElementSibling;null!=s&&(s.classList.remove("oculto"),s.classList.add("mostrar"),t.focus())},removeError:function(e){const t=e.target.nextElementSibling;t.classList.contains("mostrar")&&(t.classList.remove("mostrar"),t.classList.add("oculto"))},justNumeric:function(e){if(e.charCode<48||e.charCode>57)return e.preventDefault(),!1}}});